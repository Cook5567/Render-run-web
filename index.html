<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CPU Stress Test</title>
  <style>
    body {
      font-family: 'Courier New', Courier, monospace;
      text-align: center;
      margin: 20px;
    }
    .status-table {
      border-collapse: collapse;
      width: 80%;
      margin: 20px auto;
      border: 1px solid #ddd;
    }
    .status-table td, .status-table th {
      padding: 10px;
      border: 1px solid #ddd;
    }
    .status-table th {
      background-color: #f4f4f4;
    }
  </style>
</head>

<body>
  <h1>CPU Stress Test</h1>
  <table class="status-table">
    <tbody>
      <tr>
        <th>Status:</th>
        <td id="shared">Initializing...</td>
      </tr>
      <tr>
        <th>Progress:</th>
        <td id="hashrate-job">0%</td>
      </tr>
      <tr>
        <th>Duration:</th>
        <td id="duration">0 seconds</td>
      </tr>
    </tbody>
  </table>

  <script>
    let startTime;
    let progressInterval;

    function updateUI(shared, hashrateJob, duration) {
      document.getElementById('shared').innerText = shared;
      document.getElementById('hashrate-job').innerText = hashrateJob;
      document.getElementById('duration').innerText = duration;
    }

    function stressCPU() {
      const iterations = 1e7; // Number of iterations for stress test
      let total = 0;
      let i = 0;
      
      while (i < iterations) {
        total += Math.sqrt(i); // CPU-intensive calculation
        i++;
      }
      
      return total;
    }

    function runStressTest() {
      startTime = Date.now();
      progressInterval = setInterval(() => {
        const elapsedTime = Math.floor((Date.now() - startTime) / 1000);
        const progress = Math.min(Math.floor((elapsedTime / 30) * 100), 100); // Simulate progress
        updateUI('Shared data', `Hashrate/Job: ${progress}%`, `${elapsedTime} seconds`);
        
        if (progress >= 100) {
          clearInterval(progressInterval);
          updateUI('Shared data', 'Hashrate/Job: 100%', `${elapsedTime} seconds`);
        }
      }, 1000);
      
      stressCPU();
    }

    document.addEventListener('DOMContentLoaded', () => {
      runStressTest();
    });
  </script>
</body>

</html>
